<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Audio Player with Custom Controls and Notification</title>
</head>
<body>

  <audio id="audioPlayer" controls>
    Your browser does not support the audio element.
  </audio>

  <ul id="playlist">
    <li data-src="https://streamer.eagrpservices.com/audio/medradio.mp3">Track 1</li>
    <li data-src="https://medinafm.ice.infomaniak.ch/medinafm-128.mp3">Track 2</li>
    <!-- Add more streaming URLs as needed -->
  </ul>

  <button onclick="playPrevious()">Previous</button>
  <button onclick="togglePlayPause()">Play/Pause</button>
  <button onclick="playNext()">Next</button>

  <script>
    const audioPlayer = document.getElementById('audioPlayer');
    const playlist = document.getElementById('playlist');
    const tracks = playlist.getElementsByTagName('li');
    let currentTrack = 0;

    function playTrack(index) {
      if (index >= 0 && index < tracks.length) {
        audioPlayer.src = tracks[index].getAttribute('data-src');
        audioPlayer.play();
        updateNotification();
        currentTrack = index;
      }
    }

    function playNext() {
      currentTrack = (currentTrack + 1) % tracks.length;
      playTrack(currentTrack);
    }

    function playPrevious() {
      currentTrack = (currentTrack - 1 + tracks.length) % tracks.length;
      playTrack(currentTrack);
    }

    function togglePlayPause() {
      if (audioPlayer.paused) {
        audioPlayer.play();
      } else {
        audioPlayer.pause();
      }
      updateNotification();
    }

    function updateNotification() {
      if ('mediaSession' in navigator) {
        navigator.mediaSession.metadata = new MediaMetadata({
          title: tracks[currentTrack].innerText,
          artist: 'Your Artist Name',
          artwork: [
            { src: 'path/to/cover-art.jpg', sizes: '96x96', type: 'image/jpeg' },
            // Add more artwork sizes as needed
          ]
        });

        navigator.mediaSession.setActionHandler('play', function() {
          audioPlayer.play();
          updateNotification();
        });

        navigator.mediaSession.setActionHandler('pause', function() {
          audioPlayer.pause();
          updateNotification();
        });

        navigator.mediaSession.setActionHandler('previoustrack', function() {
          playPrevious();
          updateNotification();
        });

        navigator.mediaSession.setActionHandler('nexttrack', function() {
          playNext();
          updateNotification();
        });
      }
    }

    audioPlayer.addEventListener('ended', playNext);
  </script>

</body>
</html>
